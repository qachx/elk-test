# **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ELK Stack (Elasticsearch, Logstash, Kibana)**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é ELK Stack. –ó–∞–¥–∞—á–∞ ‚Äî —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ç–æ–≤—É—é –±–∞–Ω–∫–æ–≤—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –ª–æ–≥–æ–≤, –æ—Å–≤–æ–∏—Ç—å –ø–æ–∏—Å–∫ –æ—à–∏–±–æ–∫, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –ø–æ–Ω—è—Ç—å, –∫–∞–∫ ELK —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –ø—Ä–æ–µ–∫—Ç:**

- **–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥:** https://github.com/qachx/elk-test
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Elasticsearch, Logstash, Kibana, Prometheus, Grafana, Docker
- **–°–∏—Å—Ç–µ–º–∞:** –°–∏–º—É–ª—è—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏

**üí° –í–∞–∂–Ω–æ:** –í —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã –¥–ª—è **Windows** –∏ **macOS/Linux** –æ—Ç–¥–µ–ª—å–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è.

---

## **–î–æ—Å—Ç—É–ø—ã –∫ —Å–∏—Å—Ç–µ–º–∞–º**

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —É –≤–∞—Å –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

- **Kibana:** http://localhost:5601 (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
- **Grafana:** http://localhost:3000 (**–ª–æ–≥–∏–Ω:** `admin`, **–ø–∞—Ä–æ–ª—å:** `admin`)
- **Prometheus:** http://localhost:9090 (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
- **Elasticsearch:** http://localhost:9200 (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
- **Metrics Exporter:** http://localhost:8081/metrics (–¥–ª—è Prometheus)

---

## **–ß–∞—Å—Ç—å 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞**

**–¶–µ–ª—å:** –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≥–æ—Ç–æ–≤—É—é –±–∞–Ω–∫–æ–≤—Å–∫—É—é ELK-—Å—Ä–µ–¥—É –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –≠—Ç–æ –∏–º–∏—Ç–∏—Ä—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é, –∫–æ–≥–¥–∞ –≤–∞–º –¥–∞—é—Ç –≥–æ—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ –ø—Ä–æ–¥–∞–∫—à–Ω-—Å–∏—Å—Ç–µ–º—ã.

### **–®–∞–≥ 1: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**

–û—Ç–∫—Ä–æ–π—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª (PowerShell –¥–ª—è Windows, Terminal –¥–ª—è macOS) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
git clone https://github.com/qachx/elk-test.git
cd elk-test
```

### **–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã**

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker Desktop, –∑–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

**–î–ª—è Windows:**
```powershell
.\start.bat
```

**–î–ª—è macOS/Linux:**
```bash
chmod +x start.sh
./start.sh
```

–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç 10 —Å–µ—Ä–≤–∏—Å–æ–≤:

- **Elasticsearch** - –ø–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤
- **Logstash** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –ø–∞—Ä—Å–µ—Ä –ª–æ–≥–æ–≤
- **Kibana** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤
- **Prometheus** - —Å–±–æ—Ä—â–∏–∫ –º–µ—Ç—Ä–∏–∫
- **Grafana** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫
- **4 –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ª–æ–≥–æ–≤** - —Å–∏–º—É–ª—è—Ü–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (auth, payment, fraud, notification)
- **Setup-init** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Kibana

### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 3-4 –º–∏–Ω—É—Ç—ã –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: [http://localhost:5601](http://localhost:5601/)

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Kibana —Å —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º Data View `banking-logs-*`.

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è. –£–º–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å ELK Stack –∏ –Ω–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ ‚Äî –±–∞–∑–æ–≤—ã–π –Ω–∞–≤—ã–∫ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ QA –∏–Ω–∂–µ–Ω–µ—Ä–∞. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–∑—É –≤–∏–¥–µ—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã.

---

## **–ß–∞—Å—Ç—å 2: –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Kibana Discover**

**–¶–µ–ª—å:** –û—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ Kibana ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ª–æ–≥–∞–º–∏.

### **–®–∞–≥ 1: –ü–µ—Ä–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –¥–∞–Ω–Ω—ã–º–∏**

1. –í Kibana –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Discover** (–∏–∫–æ–Ω–∫–∞ –∫–æ–º–ø–∞—Å–∞ –≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω Data View `banking-logs-*`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω "Last 15 minutes" –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
4. –í—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ—Ç–æ–∫ –ª–æ–≥–æ–≤ –æ—Ç —á–µ—Ç—ã—Ä–µ—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä –ª–æ–≥–∞ –∏–∑ —Å–µ—Ä–≤–∏—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

```json
{
  "@timestamp": "2025-01-30T10:15:23.456Z",
  "level": "INFO", 
  "service": "auth-service",
  "event_type": "login_success",
  "user_id": "user_0369",
  "username": "kudrjavtsevignati",
  "session_id": "f288fee0-ff2c-4bd1-94cb-5e695df66255",
  "client_ip": "178.154.131.83",
  "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",
  "location": "–≥. –£—Å—Ç—å-–ö–∞—Ç–∞–≤",
  "device_fingerprint": "b6e9c42a86fb28fd",
  "two_factor_used": true,
  "geoip": {
    "country_name": "Russia",
    "city_name": "–£—Å—Ç—å-–ö–∞—Ç–∞–≤"
  }
}
```

### **–®–∞–≥ 2: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—é –ª–æ–≥–æ–≤**

1. –í —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞ –≤–≤–µ–¥–∏—Ç–µ: `level: "ERROR"`
2. –ù–∞–∂–º–∏—Ç–µ Enter –∏–ª–∏ –∫–Ω–æ–ø–∫—É "Update"
3. –í—ã —É–≤–∏–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ –∏–∑ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ —É—Ä–æ–≤–Ω–∏: `level: "WARN"`, `level: "INFO"`

### **–®–∞–≥ 3: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º**

1. –û—á–∏—Å—Ç–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ `service` –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ
3. –í—ã–±–µ—Ä–∏—Ç–µ `auth-service` –∏–∑ —Å–ø–∏—Å–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π
4. –°–∏—Å—Ç–µ–º–∞ –¥–æ–±–∞–≤–∏—Ç —Ñ–∏–ª—å—Ç—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### **–®–∞–≥ 4: –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫**

–í–≤–µ–¥–∏—Ç–µ –≤ —Å—Ç—Ä–æ–∫—É –ø–æ–∏—Å–∫–∞: `service: "auth-service" AND event_type: "login_failed"`

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É.

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í production-—Å–∏—Å—Ç–µ–º–∞—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∏—â—É—Ç –æ—à–∏–±–∫–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–∞–±–æ—Ç—É –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –£–º–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏ —ç–∫–æ–Ω–æ–º–∏—Ç —á–∞—Å—ã –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.

---

## **–ß–∞—Å—Ç—å 3: –ê–Ω–∞–ª–∏–∑ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –≤—ã—è–≤–ª—è—Ç—å –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

### **–®–∞–≥ 1: –ü–æ–∏—Å–∫ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**

1. –í —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞ –≤–≤–µ–¥–∏—Ç–µ: `tags: "suspicious_amount"`
2. –ò–∑—É—á–∏—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–≤—ã—à–µ 500,000 —Ä—É–±–ª–µ–π)
3. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–æ–ª—è `amount`, `currency`, `payment_type`

**–ü—Ä–∏–º–µ—Ä –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:**

```json
{
  "service": "payment-service",
  "event_type": "transaction_processed",
  "amount": 999999.99,
  "currency": "RUB",
  "sender_account": "4274************1234",
  "recipient_account": "5536************5678",
  "tags": ["suspicious_amount", "night_transaction"]
}
```

### **–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –Ω–æ—á–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**

1. –ù–∞–π–¥–∏—Ç–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å —Ç–µ–≥–æ–º: `tags: "night_transaction"`
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ç–∫—É –ª—é–±–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –º–µ–∂–¥—É 02:00 –∏ 05:00

### **–®–∞–≥ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**

1. –ù–∞–π–¥–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è: `event_type: "account_locked"`
2. –ò–∑—É—á–∏—Ç–µ –ø–æ–ª–µ `failed_attempts` –∏ `lock_duration`
3. –ü–æ—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å

### **–®–∞–≥ 4: –ü–æ–∏—Å–∫ –±—Ä—É—Ç—Ñ–æ—Ä—Å –∞—Ç–∞–∫**

–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å: `event_type: "login_failed" AND client_ip: *`

–°–≥—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ IP-–∞–¥—Ä–µ—Å–∞–º –∏ –Ω–∞–π–¥–∏—Ç–µ –∞–¥—Ä–µ—Å–∞ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫.

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Ññ1. –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∏ –¥–æ–ª–∂–Ω—ã —É–º–µ—Ç—å –≤—ã—è–≤–ª—è—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã: –º–∞—Å—Å–æ–≤—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã, –Ω–æ—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã. –≠—Ç–∏ –Ω–∞–≤—ã–∫–∏ –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ –∏ –∑–∞—â–∏—â–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤.

---

## **–ß–∞—Å—Ç—å 4: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã.

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞**

1. –í Kibana –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Dashboard**
2. –ù–∞–∂–º–∏—Ç–µ **Create dashboard**
3. –ù–∞–∂–º–∏—Ç–µ **Create visualization**
4. –í—ã–±–µ—Ä–∏—Ç–µ **Lens** (—Å–∞–º—ã–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)

### **–®–∞–≥ 2: –ì—Ä–∞—Ñ–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏**

1. **Data View:** –≤—ã–±–µ—Ä–∏—Ç–µ `banking-logs-*`
2. **–§–∏–ª—å—Ç—Ä:** –¥–æ–±–∞–≤—å—Ç–µ `level: "ERROR"`
3. **X-–æ—Å—å:** –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–æ–ª–µ `@timestamp`
4. **Y-–æ—Å—å:** –≤—ã–±–µ—Ä–∏—Ç–µ **Count of records**
5. **–¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞:** –≤—ã–±–µ—Ä–∏—Ç–µ **Line chart**
6. –ù–∞–∂–º–∏—Ç–µ **Save and return**
7. –ù–∞–∑–æ–≤–∏—Ç–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é "–û—à–∏–±–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏"

### **–®–∞–≥ 3: –ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º**

1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é
2. **–¢–∏–ø:** –≤—ã–±–µ—Ä–∏—Ç–µ **Donut chart**
3. **Breakdown:** –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ø–æ–ª–µ `service`
4. **–†–∞–∑–º–µ—Ä:** Count of records
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ "–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º"

### **–®–∞–≥ 4: –¢–∞–±–ª–∏—Ü–∞ —Ç–æ–ø-—Å–æ–±—ã—Ç–∏–π**

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ç–∏–ø–∞ **Data table**
2. **–°—Ç—Ä–æ–∫–∏:** –¥–æ–±–∞–≤—å—Ç–µ `event_type`
3. **–ú–µ—Ç—Ä–∏–∫–∞:** Count
4. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:** –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ "–¢–æ–ø-—Å–æ–±—ã—Ç–∏—è —Å–∏—Å—Ç–µ–º—ã"

### **–®–∞–≥ 5: –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**

1. –°–æ–∑–¥–∞–π—Ç–µ **Heatmap**
2. **X-–æ—Å—å:** `@timestamp` —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º "Hour"
3. **Y-–æ—Å—å:** `service`
4. **–¶–≤–µ—Ç:** Count of records
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ —á–∞—Å–∞–º"

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –î–∞—à–±–æ—Ä–¥—ã ‚Äî –≥–ª–∞–∑–∞ –∏ —É—à–∏ production-—Å–∏—Å—Ç–µ–º—ã. –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø—Ä–æ–±–ª–µ–º, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–∞—à–±–æ—Ä–¥—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∞–Ω–æ–º–∞–ª–∏–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –í –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏—è—Ö —Ç–∞–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è –Ω–∞ –±–æ–ª—å—à–∏–µ —ç–∫—Ä–∞–Ω—ã –≤ –æ—Ñ–∏—Å–∞—Ö, –∏ –∫–æ–º–∞–Ω–¥–∞ —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.

---

## **–ß–∞—Å—Ç—å 5: –†–∞–±–æ—Ç–∞ —Å Query DSL Elasticsearch**

**–¶–µ–ª—å:** –û—Å–≤–æ–∏—Ç—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ–≥–¥–∞ –æ–±—ã—á–Ω—ã–π –ø–æ–∏—Å–∫ Kibana –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω.

### **–®–∞–≥ 1: –ü–µ—Ä–µ—Ö–æ–¥ –≤ Dev Tools**

1. –í Kibana –æ—Ç–∫—Ä–æ–π—Ç–µ **Dev Tools** (–∏–∫–æ–Ω–∫–∞ –≥–∞–µ—á–Ω–æ–≥–æ –∫–ª—é—á–∞)
2. –í—ã —É–≤–∏–¥–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Elasticsearch API

### **–®–∞–≥ 2: –û—Å–Ω–æ–≤—ã Query DSL**

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:

```json
GET banking-logs-*/_search
{
  "query": {
    "bool": {
      "must": [
        {"term": {"service.keyword": "auth-service"}},
        {"term": {"level.keyword": "ERROR"}}
      ]
    }
  },
  "size": 10
}
```

### **–®–∞–≥ 3: –ê–≥—Ä–µ–≥–∞—Ü–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**

–ù–∞–π–¥–∏—Ç–µ —Ç–æ–ø-10 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–±—ã—Ç–∏–π:

```json
GET banking-logs-*/_search
{
  "size": 0,
  "aggs": {
    "top_users": {
      "terms": {
        "field": "user_id.keyword",
        "size": 10
      }
    }
  }
}
```

### **–®–∞–≥ 4: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏**

–ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫ –ø–æ —á–∞—Å–∞–º:

```json
GET banking-logs-*/_search
{
  "size": 0,
  "query": {
    "term": {"level.keyword": "ERROR"}
  },
  "aggs": {
    "errors_over_time": {
      "date_histogram": {
        "field": "@timestamp",
        "calendar_interval": "hour"
      }
    }
  }
}
```

### **–®–∞–≥ 5: –°–ª–æ–∂–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø–æ–∏—Å–∫–∞**

–ù–∞–π–¥–∏—Ç–µ –∫—Ä—É–ø–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏:

```json
GET banking-logs-*/_search
{
  "query": {
    "bool": {
      "must": [
        {"term": {"service.keyword": "payment-service"}},
        {"range": {"amount": {"gte": 100000}}},
        {"terms": {"tags": ["suspicious_amount", "night_transaction"]}},
        {"range": {
          "@timestamp": {
            "gte": "now-1d/d",
            "lte": "now/d"
          }
        }}
      ]
    }
  },
  "sort": [
    {"amount": {"order": "desc"}}
  ]
}
```

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** Query DSL ‚Äî —ç—Ç–æ "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö". –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞–π—Ç–∏ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±–æ–ª—å—à–µ $1000 –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏ –∏–∑ —Å—Ç—Ä–∞–Ω —Å –≤—ã—Å–æ–∫–∏–º —Ä–∏—Å–∫–æ–º), GUI Kibana –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ. Query DSL –¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø–æ–∏—Å–∫–æ–º.

---

## **–ß–∞—Å—Ç—å 6: –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Logstash**

**–¶–µ–ª—å:** –ü–æ–Ω—è—Ç—å, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–≥–æ–≤, —á—Ç–æ–±—ã —É–º–µ—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞—Ä—Å–∏–Ω–≥–æ–º –¥–∞–Ω–Ω—ã—Ö.

### **–®–∞–≥ 1: –ò–∑—É—á–µ–Ω–∏–µ pipeline –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `logstash/pipeline/banking.conf` –∏ –∏–∑—É—á–∏—Ç–µ –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

1. **Input** - –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –ª–æ–≥–∏
2. **Filter** - –∫–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ
3. **Output** - –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### **–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON**

–ù–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ–∫—Ü–∏—é:

```ruby
if [path] =~ /\.json$/ {
  json {
    source => "message"
  }
}
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ `.json` —Ñ–∞–π–ª—ã –ø–∞—Ä—Å—è—Ç—Å—è –∫–∞–∫ JSON –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### **–®–∞–≥ 3: –ò–∑—É—á–µ–Ω–∏–µ Grok-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤**

–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é –¥–ª—è `.log` —Ñ–∞–π–ª–æ–≤:

```ruby
if [type] == "banking-text" {
  grok {
    match => { 
      "message" => "%{TIMESTAMP_ISO8601:timestamp} \\[%{LOGLEVEL:level}\\] %{DATA:service}: %{GREEDYDATA:message_text}" 
    }
  }
}
```

–≠—Ç–æ –ø–∞—Ä—Å–∏—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ª–æ–≥–∏ –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Ä–µ–º—è, —É—Ä–æ–≤–µ–Ω—å, —Å–µ—Ä–≤–∏—Å –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ.

### **–®–∞–≥ 4: –û–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**

–ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é GeoIP:

```ruby
if [client_ip] {
  geoip {
    source => "client_ip"
    target => "geoip"
  }
}
```

Logstash –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω—É –∏ –≥–æ—Ä–æ–¥ –ø–æ IP-–∞–¥—Ä–µ—Å—É.

### **–®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Logstash:

```bash
docker-compose restart logstash
```

–ü—Ä–æ—Å–ª–µ–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–∏–ª–∞—Å—å –±–µ–∑ –æ—à–∏–±–æ–∫.

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∏ —á–∞—Å—Ç–æ —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ª–æ–≥–æ–≤: –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è, —Ç–µ—Ä—è–µ—Ç—Å—è —á–∞—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∏–ª–∏ –Ω–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è. –ü–æ–Ω–∏–º–∞–Ω–∏–µ Logstash –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å —Ç–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

---

## **–ß–∞—Å—Ç—å 7: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ —Å Prometheus –∏ Grafana**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ –ª–æ–≥–∞–º ‚Äî –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

### **–®–∞–≥ 1: –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Prometheus**

1. –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:9090](http://localhost:9090)
2. –í —Å—Ç—Ä–æ–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤–≤–µ–¥–∏—Ç–µ: `banking_active_users`
3. –ù–∞–∂–º–∏—Ç–µ **Execute**
4. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Graph**

### **–®–∞–≥ 2: –ò–∑—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫**

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã PromQL:

- `banking_requests_total` - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- `rate(banking_requests_total[5m])` - –∑–∞–ø—Ä–æ—Å—ã –≤ —Å–µ–∫—É–Ω–¥—É (rate function)
- `banking_error_rate` - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º
- `banking_queue_size` - —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏
- `banking_transaction_amount_total` - –æ–±—â–∏–π –æ–±—ä–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Ä—É–±–ª—è—Ö

### **–®–∞–≥ 3: –ü–µ—Ä–µ—Ö–æ–¥ –≤ Grafana**

1. –û—Ç–∫—Ä–æ–π—Ç–µ [http://localhost:3000](http://localhost:3000)
2. –í–æ–π–¥–∏—Ç–µ —Å –¥–∞–Ω–Ω—ã–º–∏: **admin** / **admin**
3. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ –≤–∞—Å –ø–æ–ø—Ä–æ—Å—è—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å ‚Äî –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ—Ç –∂–µ
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Dashboards** ‚Üí **Banking Overview**

### **–®–∞–≥ 4: –ê–Ω–∞–ª–∏–∑ –≥–æ—Ç–æ–≤–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞**

–ò–∑—É—á–∏—Ç–µ –ø–∞–Ω–µ–ª–∏ –¥–∞—à–±–æ—Ä–¥–∞:

- **Active Users** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (banking_active_users)
- **Request Rate** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (rate(banking_requests_total[5m]))
- **Error Rate** - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –ø–æ —Å–µ—Ä–≤–∏—Å–∞–º (banking_error_rate)
- **Queue Size** - —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (banking_queue_size)
- **Transaction Amount** - –æ–±—â–∏–π –æ–±—ä–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ —Ä—É–±–ª—è—Ö (banking_transaction_amount_total)

### **–®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤**

1. –ù–∞ –ª—é–±–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Üí **Edit**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Alert**
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç –Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫:
   - **Query:** `banking_error_rate{service="payment-service"}`
   - **Condition:** `IS ABOVE 5`
   - **Evaluation:** –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∞–ª–µ—Ä—Ç

üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ Grafana –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è. –í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Alerting** ‚Üí **Alert Rules**.

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –õ–æ–≥–∏ –æ—Ç–≤–µ—á–∞—é—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å "—á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?", –∞ –º–µ—Ç—Ä–∏–∫–∏ ‚Äî "–∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞?". –ù–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏ –ø–æ–∫–∞–∂—É—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—à–∏–±–∫—É, –∞ –º–µ—Ç—Ä–∏–∫–∏ ‚Äî —á—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–¥–∞–µ—Ç —É–∂–µ —á–∞—Å. –°–æ–≤–º–µ—Å—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫ –¥–∞–µ—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π.

---

## **–ß–∞—Å—Ç—å 8: –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–∞–º–∏**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Å–≤—è–∑—ã–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.

### **–®–∞–≥ 1: –ü–æ–∏—Å–∫ –∞–Ω–æ–º–∞–ª–∏–π –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö**

1. –í Grafana –Ω–∞–π–¥–∏—Ç–µ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ `Error Rate` –ø—Ä–µ–≤—ã—Å–∏–ª 2%
2. –ó–∞–ø–æ–º–Ω–∏—Ç–µ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 14:25)

### **–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –≤ —ç—Ç–æ –≤—Ä–µ–º—è**

1. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ Kibana ‚Üí Discover
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –Ω–∞ ¬±5 –º–∏–Ω—É—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∞–Ω–æ–º–∞–ª–∏–∏
3. –ù–∞–π–¥–∏—Ç–µ –ª–æ–≥–∏ —Å `level: "ERROR"` –≤ —ç—Ç–æ—Ç –ø–µ—Ä–∏–æ–¥
4. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ—à–∏–±–æ–∫

### **–®–∞–≥ 3: –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º—ã**

1. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–æ–±–ª–µ–º–Ω–æ–º—É —Å–µ—Ä–≤–∏—Å—É
2. –ò–∑—É—á–∏—Ç–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ –≤ –ø–æ–ª–µ `event_type`
3. –ù–∞–π–¥–∏—Ç–µ –æ–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (–æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, IP, —Ç–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π)

### **–®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç-–æ—Ç—á–µ—Ç–∞**

–°–æ—Å—Ç–∞–≤—å—Ç–µ –∫—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç –ø–æ —à–∞–±–ª–æ–Ω—É:

```
–ò–ù–¶–ò–î–ï–ù–¢ #001
–í—Ä–µ–º—è: 2025-01-30 14:25:00 - 14:30:00
–°–µ—Ä–≤–∏—Å: payment-service
–ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –æ—à–∏–±–æ–∫
–°–∏–º–ø—Ç–æ–º—ã: 
- banking_error_rate{service="payment-service"} = 5.2%
- –ù–∞–π–¥–µ–Ω–æ —Å–æ–±—ã—Ç–∏–π —Å level="ERROR": 47 —à—Ç—É–∫
- –¢–∏–ø—ã –æ—à–∏–±–æ–∫: insufficient_funds, limit_exceeded, fraud_detected
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –†–æ—Å—Å–∏–∏
–í–µ—Ä–æ—è—Ç–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–Ω–µ—à–Ω–∏–º –±–∞–Ω–∫–æ–º-—ç–∫–≤–∞–π–µ—Ä–æ–º
```

### **–®–∞–≥ 5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è**

1. –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –Ω–∞–±–ª—é–¥–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ Grafana
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Error Rate –≤–µ—Ä–Ω—É–ª—Å—è –∫ –Ω–æ—Ä–º–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ª–æ–≥–∞—Ö, —á—Ç–æ –Ω–æ–≤—ã–µ –æ—à–∏–±–∫–∏ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–∞ –ø–æ —Ä–∞–∑–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º. –ù–∞–≤—ã–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ –ª–æ–≥–∞–º–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è L2/L3 –ø–æ–¥–¥–µ—Ä–∂–∫–∏. –ß–∞—Å—Ç–æ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç, —á—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –µ—Å—Ç—å, –Ω–æ —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏ –æ–±—ä—è—Å–Ω—è—é—Ç, –≤ —á–µ–º –∏–º–µ–Ω–Ω–æ –¥–µ–ª–æ.

---

## **–ß–∞—Å—Ç—å 9: Performance-–∞–Ω–∞–ª–∏–∑ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –ª–æ–≥–æ–≤ –∏ –Ω–∞—Ö–æ–¥–∏—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

### **–®–∞–≥ 1: –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –∏–Ω–¥–µ–∫—Å–æ–≤**

–í Dev Tools –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```json
GET _cat/indices/banking-logs-*?v&s=store.size:desc
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ –∏ –ø–æ–º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å, –≥–¥–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –¥–∞–Ω–Ω—ã—Ö.

### **–®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–æ–≤**

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å —Å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º:

```json
GET banking-logs-*/_search?profile=true
{
  "query": {
    "wildcard": {
      "message": "*ERROR*"
    }
  }
}
```

–í –æ—Ç–≤–µ—Ç–µ –Ω–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `profile` ‚Äî –æ–Ω–∞ –ø–æ–∫–∞–∂–µ—Ç, –∫–∞–∫–∏–µ —á–∞—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–ø–æ–ª–Ω—è–ª–∏—Å—å –¥–æ–ª—å—à–µ –≤—Å–µ–≥–æ.

### **–®–∞–≥ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä—ã**

–°—Ä–∞–≤–Ω–∏—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–≤—É—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

**–ú–µ–¥–ª–µ–Ω–Ω—ã–π (–ø–æ–∏—Å–∫ –ø–æ —Ç–µ–∫—Å—Ç—É):**
```json
GET banking-logs-*/_search
{
  "query": {
    "match": {
      "message": "login_failed"
    }
  }
}
```

**–ë—ã—Å—Ç—Ä—ã–π (—Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ):**
```json
GET banking-logs-*/_search
{
  "query": {
    "term": {
      "event_type.keyword": "login_failed"
    }
  }
}
```

### **–®–∞–≥ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–ª–∞—Å—Ç–µ—Ä–∞:

```json
GET _cluster/health
GET _nodes/stats
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞:
- `search.query_time_in_millis` - –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–∏—Å–∫–æ–≤
- `indexing.index_time_in_millis` - –≤—Ä–µ–º—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
- `jvm.mem.heap_used_percent` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

### **–®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤**

–í Kibana –≤—Å–µ–≥–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω:
- –î–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã: "Last 4 hours"
- –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤: "Last 7 days"  
- –ò–∑–±–µ–≥–∞–π—Ç–µ: "Last 30 days" –Ω–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–∞—Ö

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í production-—Å–∏—Å—Ç–µ–º–∞—Ö –æ–±—ä–µ–º—ã –ª–æ–≥–æ–≤ –∏–∑–º–µ—Ä—è—é—Ç—Å—è —Ç–µ—Ä–∞–±–∞–π—Ç–∞–º–∏. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç "–ø–æ–ª–æ–∂–∏—Ç—å" –≤–µ—Å—å –∫–ª–∞—Å—Ç–µ—Ä –∏ –ª–∏—à–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã. –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏ –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏—à–Ω—é—é –Ω–∞–≥—Ä—É–∑–∫—É.

---

## **–ß–∞—Å—Ç—å 10: –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã.

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞**

–°–æ–∑–¥–∞–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ "Weekly Health Report" —Å –ø–∞–Ω–µ–ª—è–º–∏:

1. **Total Events Count** (–∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π)
2. **Error Rate Trend** (–æ—à–∏–±–∫–∏ –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏)
3. **Top Error Types** (—Ç–æ–ø-5 —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫)
4. **Service Availability** (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤ %)
5. **Geographic Distribution** (–∫–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º)

### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –æ—Ç—á–µ—Ç–æ–≤**

1. –í Kibana –ø–µ—Ä–µ–π–¥–∏—Ç–µ **Management** ‚Üí **Reporting**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é PDF-–æ—Ç—á–µ—Ç–∞
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ: –∫–∞–∂–¥—ã–π –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ –≤ 09:00

### **–®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Saved Search**

1. –í Discover –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–∏—Å–∫ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫:
   ```
   level: "ERROR" AND (event_type: "system_failure" OR event_type: "database_connection_failed")
   ```
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ "Critical System Errors"
3. –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å—Å—ã–ª–∫–æ–π —Å –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### **–®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Watcher (–∞–ª–µ—Ä—Ç–∏–Ω–≥)**

–í Dev Tools —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π Watcher:

```json
PUT _watcher/watch/high_error_rate
{
  "trigger": {
    "schedule": {
      "interval": "5m"
    }
  },
  "input": {
    "search": {
      "request": {
        "indices": ["banking-logs-*"],
        "body": {
          "query": {
            "bool": {
              "must": [
                {"term": {"level.keyword": "ERROR"}},
                {"range": {"@timestamp": {"gte": "now-5m"}}}
              ]
            }
          }
        }
      }
    }
  },
  "condition": {
    "compare": {
      "ctx.payload.hits.total.value": {
        "gt": 10
      }
    }
  },
  "actions": {
    "log": {
      "logging": {
        "text": "High error rate detected: {{ctx.payload.hits.total}} errors in last 5 minutes"
      }
    }
  }
}
```

### **–®–∞–≥ 5: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä**

–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π runbook –¥–ª—è –∫–æ–º–∞–Ω–¥—ã:

```markdown
# Runbook: –ê–Ω–∞–ª–∏–∑ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –≤ ELK

## –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∞–ª–µ—Ä—Ç–∞:
1. –û—Ç–∫—Ä—ã—Ç—å Kibana ‚Üí Discover
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω ¬±10 –º–∏–Ω—É—Ç –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∞–ª–µ—Ä—Ç–∞
3. –ù–∞–π—Ç–∏ –ª–æ–≥–∏ —Å level: "ERROR"
4. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã–π —Å–µ—Ä–≤–∏—Å
5. –°–≤—è–∑–∞—Ç—å—Å—è —Å –∫–æ–º–∞–Ω–¥–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

## –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
1. –°–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ —Å –ø—Ä–æ—à–ª–æ–π –Ω–µ–¥–µ–ª–µ–π
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
```

ü§î **–ó–∞—á–µ–º –º—ã —ç—Ç–æ –¥–µ–ª–∞–µ–º?** –í –±–æ–ª—å—à–∏—Ö –∫–æ–º–∞–Ω–¥–∞—Ö —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–æ–≤ ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å, –∞ –Ω–µ —Ä–∞–∑–æ–≤–∞—è –∑–∞–¥–∞—á–∞. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä—É—Ç–∏–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –≤—Ä–µ–º—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ª–µ–≥–∫–æ –≤–≤–æ–¥–∏—Ç—å –≤ —Ä–∞–±–æ—Ç—É –Ω–æ–≤—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ –∫–æ–º–∞–Ω–¥—ã.

---

## **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

**–ß—Ç–æ –≤—ã –∏–∑—É—á–∏–ª–∏:**

1. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ ELK Stack** ‚Äî –±–∞–∑–æ–≤—ã–π –Ω–∞–≤—ã–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ª–æ–≥–∞–º–∏ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
2. **–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ Kibana** ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
3. **–ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** ‚Äî –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–æ–º–∞–ª–∏–π
4. **–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–æ–≤** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
5. **Query DSL** ‚Äî –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
6. **–ê–Ω–∞–ª–∏–∑ Logstash** ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö
7. **–ö–æ—Ä—Ä–µ–ª—è—Ü–∏—é –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫** ‚Äî –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
8. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Äî —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏
9. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏** ‚Äî –ø—Ä–æ—Ü–µ—Å—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥—É

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:**

–≠—Ç–∏ –Ω–∞–≤—ã–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏:

- **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä** (—Ç—Ä–µ–π—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏)
- **–í—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º** (–∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ—à–∏–±–æ–∫)
- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º** (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∞—É–¥–∏—Ç)
- **E-commerce —Ä–µ—à–µ–Ω–∏–π** (–∞–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∫–æ–Ω–≤–µ—Ä—Å–∏–∏)
- **API-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π** (–æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤)
- **DevOps-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤** (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–æ–≤ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

–ü–æ—Å–ª–µ –æ—Å–≤–æ–µ–Ω–∏—è –±–∞–∑–æ–≤—ã—Ö –Ω–∞–≤—ã–∫–æ–≤ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑—É—á–∏—Ç—å:

- **Elasticsearch Security** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **Beats** (—Å–±–æ—Ä—â–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö: Filebeat, Metricbeat, Heartbeat)
- **Elastic APM** (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)
- **Machine Learning** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã—è–≤–ª–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π)
- **Elasticsearch –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ** (—à–∞—Ä–¥–∏–Ω–≥, —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—è, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)

ELK Stack –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 80% —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö IT-–∫–æ–º–ø–∞–Ω–∏–π –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞, –ø–æ—ç—Ç–æ–º—É —ç—Ç–∏ –∑–Ω–∞–Ω–∏—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å—è—Ç –≤–∞—à—É —Ü–µ–Ω–Ω–æ—Å—Ç—å –∫–∞–∫ QA-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ –Ω–∞ —Ä—ã–Ω–∫–µ —Ç—Ä—É–¥–∞. 